<% if available_locales.length > 1 %>
  <div class="main-header__language-container">
    <button id="trigger-dropdown-header-language-chooser" data-component="dropdown" data-target="dropdown-menu-header-language-chooser" class="main-footer__language-trigger">
      <%= icon "global-line", style: "display:block" %>
      <div class="flex flex-row">
        <span><%= t("name", scope: "locale") %></span>
        <%= icon "arrow-down-s-line" %>
      </div>
      <span class="sr-only">
        <% available_locales.each do |locale| %>
          <span lang="<%= locale %>">
            <%= I18n.with_locale(locale) { t("layouts.decidim.language_chooser.choose_language") } %>
          </span>
        <% end %>
      </span>
    </button>

    <div id="dropdown-menu-header-language-chooser" aria-hidden="false" role="menu" aria-labelledby="trigger-dropdown-header-language-chooser" tabindex="-1">
      <ul class="main-footer__language absolute border border-solid border-gray-3 rounded-md bg-white" role="menu">
        <% (available_locales - [I18n.locale.to_s]).each do |locale| %>
          <li class="text-secondary text-md hover:bg-secondary hover:text-white transition rounded-md" role="presentation">
            <%= link_to locale_name(locale), decidim.locale_path(locale:), method: :post, role: "menuitem", lang: locale, class: "w-full block" %>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
<% end %>
